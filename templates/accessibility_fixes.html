<!-- WCAG AA Color Contrast Compliance Fixes -->
<style>
/* ===========================================
   WCAG AA COLOR CONTRAST FIXES
   Ensuring 4.5:1 ratio for normal text
   Ensuring 3:1 ratio for large text and UI components
   =========================================== */

/* Fix text-muted (Bootstrap default #6c757d has 2.9:1 contrast - FAIL)
   New color: #495057 (8.6:1 contrast - PASS) */
.text-muted,
.text-secondary,
small.text-muted,
.card-text.text-muted,
.small.text-muted,
p.text-muted {
    color: #495057 !important;
}

/* Fix text on light backgrounds */
.bg-light .text-dark,
.badge.bg-light .text-dark {
    color: #212529 !important;
}

/* Fix warning badges with text-dark (yellow #ffc107 + dark text needs verification) */
.badge.bg-warning.text-dark,
.bg-warning.text-dark {
    background-color: #ffca2c !important;  /* Slightly darker yellow */
    color: #000 !important;  /* Pure black for maximum contrast */
    font-weight: 600 !important;
}

/* Fix navbar dropdown small text */
.navbar .dropdown-menu small {
    color: #495057 !important;
}

/* Fix card footers */
.card-footer.text-muted {
    color: #495057 !important;
}

/* Fix form labels and help text */
label.text-muted,
.form-text.text-muted,
.form-label .text-muted {
    color: #495057 !important;
}

/* Fix modal body text */
.modal-body .text-muted,
.modal-body small.text-muted {
    color: #495057 !important;
}

/* Fix stats and metrics text */
.stat-pill .text-white-50 {
    opacity: 1 !important;
    color: rgba(255, 255, 255, 0.95) !important;
}

/* Fix badges on colored backgrounds */
.badge.bg-info {
    background-color: #0dcaf0 !important;
    color: #000 !important;  /* Black text for better contrast */
    font-weight: 600 !important;
}

/* Fix white/light badges with dark text */
.badge.bg-white.text-dark,
.badge.text-dark {
    color: #000 !important;
    font-weight: 600 !important;
}

/* Fix state procurement portals  description text */
.state-card .card-body .text-muted,
.state-card .card-body p {
    color: #495057 !important;
}

/* Fix mini toolbox card descriptions */
.mini-toolbox .card-text.text-secondary {
    color: #495057 !important;
}

/* Fix table text */
table .text-muted,
.table .text-muted {
    color: #495057 !important;
}

/* Fix list group items */
.list-group-item .text-muted {
    color: #495057 !important;
}

/* Fix alert text */
.alert .text-muted {
    color: #495057 !important;
}

/* Fix breadcrumb text */
.breadcrumb .text-muted {
    color: #495057 !important;
}

/* Fix pagination text */
.pagination .text-muted {
    color: #495057 !important;
}

/* Fix dropdown items */
.dropdown-item .text-muted {
    color: #495057 !important;
}

/* Fix timeline and process guides */
.timeline .text-muted,
.process-step .text-muted {
    color: #495057 !important;
}

/* Fix vendor modal descriptions */
.modal-body .text-secondary {
    color: #495057 !important;
}

/* Fix invoice and estimate forms */
.invoice-form .text-muted,
.estimate-form .text-muted {
    color: #495057 !important;
}

/* Fix dashboard lead cards */
.lead-card .text-muted {
    color: #495057 !important;
}

/* Fix contact info displays */
.contact-info .text-muted {
    color: #495057 !important;
}

/* Ensure all small text has proper contrast */
small, .small {
    color: #495057 !important;
}

/* Override Bootstrap's small on dark backgrounds */
.bg-dark small,
.bg-primary small,
.bg-success small,
.bg-danger small,
.bg-info small,
.bg-warning small,
.navbar small {
    color: rgba(255, 255, 255, 0.95) !important;
}

/* Fix button outline variants on hover */
.btn-outline-warning:hover {
    background-color: #ffca2c !important;
    color: #000 !important;
}

/* Fix link colors in light contexts */
.card-body a:not(.btn),
.modal-body a:not(.btn) {
    color: #0d6efd !important;  /* Bootstrap primary blue - good contrast */
    font-weight: 500;
}

/* Fix placeholder text */
::placeholder {
    color: #6c757d !important;
    opacity: 0.8 !important;
}

/* Fix disabled form elements */
.form-control:disabled,
.form-select:disabled {
    color: #495057 !important;
    background-color: #e9ecef !important;
}

/* Fix select dropdown options */
.form-select option {
    color: #212529 !important;
}

/* Fix checkbox and radio labels */
.form-check-label {
    color: #212529 !important;
}

/* Fix tooltips */
.tooltip .tooltip-inner {
    background-color: #212529 !important;
    color: #fff !important;
}

/* Fix popovers */
.popover-body .text-muted {
    color: #495057 !important;
}

/* Fix accordion text */
.accordion-body .text-muted {
    color: #495057 !important;
}

/* Fix offcanvas text */
.offcanvas .text-muted {
    color: #495057 !important;
}

/* Fix toast text */
.toast-body .text-muted {
    color: #495057 !important;
}

/* Fix progress bar labels */
.progress .text-muted {
    color: #495057 !important;
}

/* Fix spinner text */
.spinner-border + .text-muted {
    color: #495057 !important;
}

/* Specific fixes for state procurement portals page */
#stateSearch::placeholder {
    color: #6c757d !important;
    opacity: 1 !important;
}

.state-card .card-body p.small,
.state-card .card-body .small {
    color: #495057 !important;
    font-weight: 500;
}

/* Fix for any remaining low-contrast elements */
.text-black-50 {
    color: rgba(0, 0, 0, 0.7) !important;
}

.text-white-50 {
    color: rgba(255, 255, 255, 0.95) !important;
}

/* Admin panel fixes */
.admin-panel .text-muted,
.admin-enhanced .text-muted {
    color: #495057 !important;
}

/* Dashboard stats fixes */
.stat-value .text-muted {
    color: #495057 !important;
}

/* Federal contracts page fixes */
.contract-card .text-muted {
    color: #495057 !important;
}

/* K-12 and college leads pages */
.school-card .text-muted,
.college-card .text-muted {
    color: #495057 !important;
}

/* Home page hero text */
.hero-subtext {
    color: rgba(255, 255, 255, 0.95) !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

/* Home: Scroll indicator readability */
.scroll-indicator,
.scroll-indicator i,
.scroll-indicator span {
    color: rgba(255, 255, 255, 0.85) !important;
}

/* Home: Section label chip contrast on dark backgrounds */
.section-label {
    color: #ffffff !important;
    border-color: rgba(168, 85, 247, 0.5) !important;
}

/* Home: Featured partner location text contrast */
.partner-location {
    color: #f1f5f9 !important; /* var(--color-gray-100) equivalent */
}

/* Home: Service badges text/icon contrast */
.service-badge {
    color: #f1f5f9 !important;
    border-color: rgba(16, 185, 129, 0.5) !important;
}
.service-badge i { color: #10b981 !important; }

/* Home: Discover section feature text (ensure white on dark bg) */
.discover-section .feature-content h4 {
    color: #ffffff !important;
}
.discover-section .feature-content p {
    color: #e2e8f0 !important; /* var(--color-gray-200) equivalent - high contrast on dark */
}
.discover-section .section-title {
    color: #ffffff !important;
}

</style>

/* Ensure sufficient contrast for all text on gradient backgrounds */
[style*="background: linear-gradient"],
[style*="background: radial-gradient"],
[class*="gradient"] {
    color: #fff !important;
}

[style*="background: linear-gradient"] .text-muted,
[style*="background: radial-gradient"] .text-muted,
[class*="gradient"] .text-muted {
    color: rgba(255, 255, 255, 0.95) !important;
}

/* Fix for mini toolbox vendor modals */
#suppliesModal .text-secondary,
#equipmentModal .text-secondary,
#repairModal .text-secondary {
    color: #495057 !important;
}

/* Fix calculator labels */
#sqftCalculator .text-secondary,
#timelineModal .text-secondary {
    color: #495057 !important;
}

/* Aviation Cleaning Leads page fixes */
.aviation-cleaning-page .card-body p[style*="color: #4a5568"],
.aviation-cleaning-page .card-body .small[style*="color: #4a5568"] {
    color: #374151 !important; /* Darker gray for better contrast on white */
}

.aviation-cleaning-page .card-footer[style*="color: #4a5568"] {
    color: #374151 !important; /* Darker gray on light footer background */
}

/* Hero section - ensure all text is white on blue gradient */
.aviation-cleaning-page .hero-section,
.aviation-cleaning-page .hero-section * {
    color: #ffffff !important;
}

.aviation-cleaning-page .hero-section .lead {
    color: rgba(255, 255, 255, 0.95) !important;
}

/* Filter card header - white text on blue gradient */
.aviation-cleaning-page .card-header[style*="background: linear-gradient"] {
    color: #ffffff !important;
}

.aviation-cleaning-page .card-header[style*="background: linear-gradient"] h5,
.aviation-cleaning-page .card-header[style*="background: linear-gradient"] * {
    color: #ffffff !important;
}

/* Card headers with gradient - ensure white text */
.aviation-cleaning-page .card-header[style*="linear-gradient"] h5 {
    color: #ffffff !important;
}

/* =========================================
   END WCAG AA FIXES
   ========================================= */
</style>
